<html>
<head>
<meta charset="utf8">
<title>Pac-Man . 吃豆游戏</title>
<link rel="shortcut icon" href="favicon.png">
<style>
	body{background-color: #292929}
	*{padding:0;margin:0;}
	.wrapper{
		width: 960px;
		margin:0 auto;
		line-height:36px;
		text-align:center;
		color:#999;
	}
	canvas{display:block;background: #000;}
	.mod-botton{
		height: 32px;
		padding: 15px 0;
		text-align: center;
	}
</style>
<style>
@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

@keyframes fadeOut {
    from { opacity: 1; transform: scale(1); }
    to { opacity: 0; transform: scale(0.9); }
}

.fade-out {
    animation: fadeOut 0.5s ease-out forwards;
}
</style>
</head>
<body>

<!-- 吃豆游戏开屏广告 -->
<div id="splashAd" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #FFD700 0%, #FF8C00 50%, #FF4500 100%);
    z-index: 9999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    font-family: 'Microsoft YaHei', Arial, sans-serif;
    animation: fadeIn 0.5s ease-in;
">
    <div style="text-align: center; max-width: 80%; padding: 20px;">
        <div id="adContent">
            <h1 style="font-size: 3em; margin-bottom: 20px; text-shadow: 3px 3px 6px rgba(0,0,0,0.7); color: #FFFF00;">
                🍕 美食外卖大优惠 🍕
            </h1>
            <p style="font-size: 1.4em; margin-bottom: 30px; line-height: 1.6; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
                像吃豆人一样，疯狂享受美食！<br>
                新用户首单立减20元，满50免配送费！
            </p>
            <div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; flex-wrap: wrap;">
                <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px); min-width: 150px;">
                    <div style="font-size: 2em; margin-bottom: 10px;">🍔</div>
                    <h3>汉堡套餐</h3>
                    <p style="color: #FFFF00; font-weight: bold;">￥19.9起</p>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px); min-width: 150px;">
                    <div style="font-size: 2em; margin-bottom: 10px;">🍕</div>
                    <h3>披萨专场</h3>
                    <p style="color: #FFFF00; font-weight: bold;">第二份半价</p>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px); min-width: 150px;">
                    <div style="font-size: 2em; margin-bottom: 10px;">🥤</div>
                    <h3>饮品甜品</h3>
                    <p style="color: #FFFF00; font-weight: bold;">买一送一</p>
                </div>
            </div>
            <div style="background: rgba(255,255,255,0.3); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                <p style="font-size: 1.1em; font-weight: bold;">🎮 游戏玩家专享：输入优惠码 PACMAN 额外享受9折优惠！</p>
            </div>
        </div>
        
        <div style="margin-top: 30px;">
            <button id="skipAd" style="
                background: #FF4500;
                color: white;
                border: none;
                padding: 15px 40px;
                font-size: 1.2em;
                border-radius: 30px;
                cursor: pointer;
                transition: all 0.3s ease;
                box-shadow: 0 6px 20px rgba(255,69,0,0.4);
                font-weight: bold;
            " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 8px 25px rgba(255,69,0,0.6)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 6px 20px rgba(255,69,0,0.4)'">
                跳过广告，开始吃豆 (<span id="countdown">5</span>s)
            </button>
        </div>
    </div>
</div>

<div class="wrapper" id="gameContent" style="display: none;">
	<canvas id="canvas" width="960" height="640">不支持画布</canvas>
	<p><h1>按［空格］开始或暂停、继续</h1></p>		
</div>
<script>
// 开屏广告逻辑
(function() {
    let countdown = 5;
    const countdownElement = document.getElementById('countdown');
    const skipButton = document.getElementById('skipAd');
    const splashAd = document.getElementById('splashAd');
    const gameContent = document.getElementById('gameContent');
    
    // 倒计时
    const timer = setInterval(() => {
        countdown--;
        countdownElement.textContent = countdown;
        
        if (countdown <= 0) {
            clearInterval(timer);
            skipButton.innerHTML = '开始吃豆游戏 🍕';
            skipButton.style.background = '#32CD32';
        }
    }, 1000);
    
    // 跳过广告
    skipButton.addEventListener('click', () => {
        if (countdown <= 0 || confirm('确定要跳过广告吗？')) {
            splashAd.classList.add('fade-out');
            setTimeout(() => {
                splashAd.style.display = 'none';
                gameContent.style.display = 'block';
            }, 500);
        }
    });
    
    // 自动关闭
    setTimeout(() => {
        if (splashAd.style.display !== 'none') {
            skipButton.click();
        }
    }, 8000);
})();
</script>
<script src="game.js"></script>
<script src="index.js"></script>
</body>
</html>
