<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>！</title>     	 
<meta name="viewport" content="initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, width=device-width,target-densitydpi=device-dpi"> 
<link rel="stylesheet" type="text/css" href="css/css.css" />
<script type="text/javascript" src="js/js.js"></script>
<script type="text/javascript" src="js/config.js"></script>
<style>
@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

@keyframes fadeOut {
    from { opacity: 1; transform: scale(1); }
    to { opacity: 0; transform: scale(0.9); }
}

.fade-out {
    animation: fadeOut 0.5s ease-out forwards;
}
</style>
<script type="text/javascript">
var isDesktop = navigator['userAgent'].match(/(ipad|iphone|ipod|android|windows phone)/i) ? false : true;
var fontunit        = isDesktop ? 20 : ((window.innerWidth>window.innerHeight?window.innerHeight:window.innerWidth)/320)*10;
document.write('<style type="text/css">'+
	'html,body {font-size:'+(fontunit<30?fontunit:'30')+'px;}'+
	(isDesktop?'#welcome,#GameTimeLayer,#GameLayerBG,#GameScoreLayer.SHADE{position: absolute;}':
	'#welcome,#GameTimeLayer,#GameLayerBG,#GameScoreLayer.SHADE{position:fixed;}@media screen and (orientation:landscape) {#landscape {display: box; display: -webkit-box; display: -moz-box; display: -ms-flexbox;}}')+
	'</style>');
</script>
</head>
<body >
	<!-- 飞机游戏开屏广告 -->
	<div id="splashAd" style="
	    position: fixed;
	    top: 0;
	    left: 0;
	    width: 100%;
	    height: 100%;
	    background: linear-gradient(135deg, #87CEEB 0%, #4682B4 50%, #1E90FF 100%);
	    z-index: 9999;
	    display: flex;
	    flex-direction: column;
	    justify-content: center;
	    align-items: center;
	    color: white;
	    font-family: 'Microsoft YaHei', Arial, sans-serif;
	    animation: fadeIn 0.5s ease-in;
	">
	    <div style="text-align: center; max-width: 80%; padding: 20px;">
	        <div id="adContent">
	            <h1 style="font-size: 3em; margin-bottom: 20px; text-shadow: 3px 3px 6px rgba(0,0,0,0.7); color: #FFD700;">
	                ✈️ 环球旅行社 ✈️
	            </h1>
	            <p style="font-size: 1.4em; margin-bottom: 30px; line-height: 1.6; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
	                像飞机一样自由翱翔，探索世界的每一个角落！<br>
	                精选航线，优质服务，让您的旅程更加精彩！
	            </p>
	            <div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; flex-wrap: wrap;">
	                <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px); min-width: 150px;">
	                    <div style="font-size: 2em; margin-bottom: 10px;">🏝️</div>
	                    <h3>海岛度假</h3>
	                    <p style="color: #FFD700; font-weight: bold;">马尔代夫</p>
	                </div>
	                <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px); min-width: 150px;">
	                    <div style="font-size: 2em; margin-bottom: 10px;">🗼</div>
	                    <h3>欧洲古城</h3>
	                    <p style="color: #FFD700; font-weight: bold;">巴黎伦敦</p>
	                </div>
	                <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px); min-width: 150px;">
	                    <div style="font-size: 2em; margin-bottom: 10px;">🏔️</div>
	                    <h3>雪山探险</h3>
	                    <p style="color: #FFD700; font-weight: bold;">瑞士阿尔卑斯</p>
	                </div>
	            </div>
	            <div style="background: rgba(255,215,0,0.3); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
	                <p style="font-size: 1.1em; font-weight: bold;">🎯 飞行员专享：预订任意国际航线享受9折优惠，免费升舱服务！</p>
	            </div>
	        </div>
	        
	        <div style="margin-top: 30px;">
	            <button id="skipAd" style="
	                background: #4169E1;
	                color: white;
	                border: none;
	                padding: 15px 40px;
	                font-size: 1.2em;
	                border-radius: 30px;
	                cursor: pointer;
	                transition: all 0.3s ease;
	                box-shadow: 0 6px 20px rgba(65,105,225,0.4);
	                font-weight: bold;
	            " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 8px 25px rgba(65,105,225,0.6)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 6px 20px rgba(65,105,225,0.4)'">
	                跳过广告，开始飞行 (<span id="countdown">5</span>s)
	            </button>
	        </div>
	    </div>
	</div>

	<div id="gamepage" style="display: none;">
		<canvas id="canvas1" width="360" height="460"></canvas>
	</div>
	<div id="gameend" style="display:none;width:200px;height:150px;margin-top: 170px;margin-left: 80px;background: #30A5EB;">
		<div style="width:200px;height:50px;">
			<span style="width: 200px;height: 50px;background: #6C7DD8;font-size: 27px;text-align: center;line-height: 44px;" >game over!</span>
		</div>
		<div style="width:200px;height:50px;margin-top: 50px; *">
			<span id="score" style="width: 200px;height: 50px;font-size: 27px;text-align: center;line-height: 44px;" ></span>
			
		</div>
	</div>
	<div id="gamestart" onclick="startgame()" style="background-color: rgba(0,0,0,.8);text-align: center;font-weight: bold;overflow: hidden;position: fixed;display: none;">
		<div style="color: rgb(254, 240, 2); font-size: 2.6em;">游戏说明：
		
		</div>
		<div style="color: rgb(254, 240, 2); font-size: 1.3em;margin-top:4.0em;text-align: left;">
			操作说明
			</br>
			【1.长按屏幕飞机向上飞行】【2.双击屏幕飞机向上加速飞行】【3.撞击障碍物游戏失败】
		</div>
		
	</div>
	<div id="gameendbtn" class="mybtn" style="display:none;margin-top: 269px;margin-left: 108px;" onclick="restart()">重新开始</div>
</body>
<script>
// 开屏广告逻辑
(function() {
    let countdown = 5;
    const countdownElement = document.getElementById('countdown');
    const skipButton = document.getElementById('skipAd');
    const splashAd = document.getElementById('splashAd');
    const gamePage = document.getElementById('gamepage');
    const gameStart = document.getElementById('gamestart');
    
    // 倒计时
    const timer = setInterval(() => {
        countdown--;
        countdownElement.textContent = countdown;
        
        if (countdown <= 0) {
            clearInterval(timer);
            skipButton.innerHTML = '开始飞行冒险 ✈️';
            skipButton.style.background = '#32CD32';
        }
    }, 1000);
    
    // 跳过广告
    skipButton.addEventListener('click', () => {
        if (countdown <= 0 || confirm('确定要跳过广告吗？')) {
            splashAd.classList.add('fade-out');
            setTimeout(() => {
                splashAd.style.display = 'none';
                gamePage.style.display = 'block';
                gameStart.style.display = 'block';
            }, 500);
        }
    });
    
    // 自动关闭
    setTimeout(() => {
        if (splashAd.style.display !== 'none') {
            skipButton.click();
        }
    }, 8000);
})();
</script>
<script>
        var imgUrl = "Icon.png";
        var lineLink = "";
        var descContent = '我再游戏中获得了'+Math.floor(planescore/10)+'分，快来试试吧。';
        var shareTitle = 'Cross-country plane';
        var appid = '';
         
        function shareFriend() {
            WeixinJSBridge.invoke('sendAppMessage',{
                "appid": appid,
                "img_url": imgUrl,
                "img_width": "200",
                "img_height": "200",
                "link": lineLink,
                "desc": descContent,
                "title": shareTitle
            }, function(res) {
                //_report('send_msg', res.err_msg);
            })
        }
        function shareTimeline() {
            WeixinJSBridge.invoke('shareTimeline',{
                "img_url": imgUrl,
                "img_width": "200",
                "img_height": "200",
                "link": lineLink,
                "desc": descContent,
                "title": shareTitle
            }, function(res) {
                   //_report('timeline', res.err_msg);
            });
        }
        function shareWeibo() {
            WeixinJSBridge.invoke('shareWeibo',{
                "content": descContent,
                "url": lineLink,
            }, function(res) {
                //_report('weibo', res.err_msg);
            });
        }
        // 当微信内置浏览器完成内部初始化后会触发WeixinJSBridgeReady事件。
        document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
            // 发送给好友
            WeixinJSBridge.on('menu:share:appmessage', function(argv){
                shareFriend();
            });
            // 分享到朋友圈
            WeixinJSBridge.on('menu:share:timeline', function(argv){
                shareTimeline();
            });
            // 分享到微博
            WeixinJSBridge.on('menu:share:weibo', function(argv){
                shareWeibo();
            });
        }, false);
</script>
</html>
